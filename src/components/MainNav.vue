<template>
  <nav class="main-nav">
    <ul>
      <li>
        <router-link class="main-nav__link" to="/">
          <svg width="24" height="24" viewBox="0 0 768 768">
            <path
                d="M712.384 334.976c-108.48-91.328-305.472-261.472-307.424-263.2l-20.96-18.016-20.864 18.016c-1.984 1.696-199.072 171.776-309.12 263.936-14.016 12.608-22.016 30.24-22.016 48.288 0 35.328 28.672 64 64 64h32v192c0 35.328 28.672 64 64 64h384c35.328 0 64-28.672 64-64v-192h32c35.328 0 64-28.672 64-64 0-19.136-8.8-37.152-23.616-49.024zM448 640h-128v-160h128v160zM576 384l0.064 256c-0.064 0-96.064 0-96.064 0v-192h-192v192h-96v-256h-96.032c88.48-73.984 234.080-199.264 288.032-245.76 53.952 46.496 199.488 171.744 288 245.792 0 0-96 0-96-0.032z"></path>
          </svg>
          <span>Главная</span>
        </router-link>
      </li>
      <li>
        <router-link class="main-nav__link" :to="profileLink">
          <svg width="24" height="24" viewBox="0 0 768 768">
            <path
                d="M384 415.5q48 0 105 13.5t104.25 45 47.25 70.5v96h-513v-96q0-39 47.25-70.5t104.25-45 105-13.5zM384 127.5q52.5 0 90 38.25t37.5 90.75-37.5 90-90 37.5-90-37.5-37.5-90 37.5-90.75 90-38.25zM384 477q-66 0-130.5 24.75t-64.5 42.75v34.5h390v-34.5q0-18-64.5-42.75t-130.5-24.75zM384 189q-28.5 0-48 19.5t-19.5 48 19.5 47.25 48 18.75 48-18.75 19.5-47.25-19.5-48-48-19.5z"></path>
          </svg>
          <span>Профиль</span>
        </router-link>
      </li>
      <li>
        <router-link class="main-nav__link" :to="savesLink">
          <svg width="24" height="24" viewBox="0 0 768 768">
            <path
                d="M384 640c-6.24 0-12.512-1.824-17.952-5.504-7.2-4.832-176.256-119.36-228.672-171.872-58.592-58.592-65.376-120.864-65.376-162.624 0-94.848 77.152-172 172-172 57.664 0 108.736 28.512 140 72.192 31.264-43.68 82.336-72.192 140-72.192 94.848 0 172 77.152 172 172 0 41.76-6.784 104.032-65.376 162.624-52.512 52.512-221.536 167.040-228.672 171.872-5.44 3.68-11.712 5.504-17.952 5.504zM244 192c-59.552 0-108 48.448-108 108 0 34.976 5.536 76.288 46.624 117.376 38.784 38.784 156.256 120.8 201.376 151.872 45.12-31.072 162.592-113.088 201.376-151.872 41.088-41.088 46.624-82.4 46.624-117.376 0-59.552-48.448-108-108-108s-108 48.448-108 108c0 17.664-14.304 32-32 32s-32-14.336-32-32c0-59.552-48.448-108-108-108z"></path>
          </svg>
          <span>Сохранёнки</span>
        </router-link>
      </li>
      <li>
        <router-link class="main-nav__link" to="/settings">
          <svg width="24" height="24" viewBox="0 0 768 768">
            <path
                d="M416 160l27.36 109.44 108.448-31.072 48.032 83.2-81.12 78.368 81.12 78.432-48 83.2-108.48-31.072-27.36 109.504h-96l-27.36-109.504-108.48 31.072-48.032-83.2 81.12-78.432-81.088-78.368 48-83.2 108.48 31.072 27.36-109.44h96M416 96h-96c-29.376 0-54.976 20-62.048 48.512l-11.328 45.184-44.8-12.8c-5.888-1.696-11.808-2.496-17.664-2.496-22.4 0-43.776 11.84-55.392 32l-48 83.2c-14.688 25.472-10.144 57.664 10.944 78.016l33.504 32.352-33.536 32.48c-21.12 20.384-25.664 52.576-10.976 78.016l48.064 83.2c11.616 20.192 32.992 32 55.392 32 5.856 0 11.776-0.8 17.664-2.432l44.768-12.832 11.328 45.28c7.104 28.32 32.704 48.32 62.080 48.32h96c29.376 0 54.976-20 62.048-48.512l11.328-45.248 44.768 12.8c5.888 1.696 11.808 2.464 17.664 2.464 22.4 0 43.776-11.84 55.392-32l48-83.2c14.688-25.472 10.144-57.6-10.944-78.016l-33.504-32.416 33.504-32.416c21.12-20.384 25.632-52.608 10.944-78.016l-48-83.2c-11.68-20.192-32.992-32-55.424-32-5.888 0-11.776 0.8-17.632 2.432l-44.8 12.832-11.328-45.216c-7.040-28.288-32.64-48.288-62.016-48.288z"></path>
            <path
                d="M368 336c35.328 0 64 28.64 64 64 0 35.328-28.672 64-64 64s-64-28.672-64-64c0-35.36 28.672-64 64-64M368 304c-52.928 0-96 43.072-96 96s43.072 96 96 96 96-43.072 96-96-43.072-96-96-96z"></path>
          </svg>
          <span>
            Настройки
          </span>
        </router-link>
      </li>
    </ul>
  </nav>
</template>

<script>
import {computed} from "vue";
import {useStore} from "vuex";

export default {
  setup() {
    const store = useStore()

    return {
      profileLink: computed(() => store.state.auth.user ? '/user/' + store.state.auth.user.id : '/auth'),
      savesLink: computed(() => store.state.auth.user ? '/user/' + store.state.auth.user.id + '/saves' : '/auth')
    }
  }
}
</script>

<style scoped lang="scss">
@import "src/assets/styles/vars";

.main-nav {
  padding: 10px 0;

  &__link {
    padding: 20px;
    display: block;

    span {
      vertical-align: middle;
      padding-left: 10px;
    }

    svg {
      vertical-align: middle;
      fill: $color-text;
    }

    &:hover {
      color: $color-text-light;

      svg {
        fill: $color-text-light;
      }
    }
  }
}

</style>
